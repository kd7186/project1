{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport Route from '../router/index';\nimport axios from 'axios';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    Userinfo: {\n      User_Id: null,\n      User_Name: null,\n      User_auth: []\n    }\n  },\n  mutations: {\n    SET_USER: function SET_USER(state, data) {\n      state.Userinfo.User_Id = data.username;\n      state.Userinfo.User_Name = data.name;\n      state.Userinfo.User_auth = data.authorities;\n      Route.push(\"/user\");\n    }\n  },\n  actions: {\n    loginProcess: function loginProcess(_ref, payload) {\n      var commit = _ref.commit;\n      console.log(payload);\n      return new Promise(function (resolve, reject) {\n        axios.post('http://localhost:9000/api/auth/signin', payload).then(function (Response) {\n          console.log(Response.data);\n\n          if (Response.data.username != null) {\n            axios.defaults.headers.common['Authorization'] = \"Bearer \".concat(Response.data.token);\n            commit('SET_USER', Response.data);\n          }\n        }).catch(function (Error) {\n          console.log('error');\n          reject(Error);\n        });\n      });\n    },\n    SignUp: function SignUp(_ref2, payload) {\n      var commit = _ref2.commit;\n      console.log(payload);\n      return new Promise(function (resolve, reject) {\n        axios.post('http://localhost:9000/api/auth/signup', payload).then(function (Response) {\n          console.log(Response.data);\n\n          if (Response.data === \"success\") {\n            Route.push(\"/login\");\n          }\n        }).catch(function (Error) {\n          console.log('error');\n          reject(Error);\n        });\n      });\n    }\n  }\n});","map":{"version":3,"sources":["C:/Users/l6-morning/Documents/work12/project1/src/project1/src/store/index.js"],"names":["Vue","Vuex","Route","axios","use","Store","state","Userinfo","User_Id","User_Name","User_auth","mutations","SET_USER","data","username","name","authorities","push","actions","loginProcess","payload","commit","console","log","Promise","resolve","reject","post","then","Response","defaults","headers","common","token","catch","Error","SignUp"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAC;AAACC,MAAAA,OAAO,EAAC,IAAT;AAAcC,MAAAA,SAAS,EAAC,IAAxB;AAA6BC,MAAAA,SAAS,EAAC;AAAvC;AADJ,GADqB;AAI5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,QADS,oBACAN,KADA,EACOO,IADP,EACa;AACpBP,MAAAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyBK,IAAI,CAACC,QAA9B;AACAR,MAAAA,KAAK,CAACC,QAAN,CAAeE,SAAf,GAA2BI,IAAI,CAACE,IAAhC;AACAT,MAAAA,KAAK,CAACC,QAAN,CAAeG,SAAf,GAA2BG,IAAI,CAACG,WAAhC;AACAd,MAAAA,KAAK,CAACe,IAAN,CAAW,OAAX;AACF;AANS,GAJiB;AAY5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,YADO,8BACkBC,OADlB,EAC2B;AAAA,UAAnBC,MAAmB,QAAnBA,MAAmB;AAChCC,MAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACA,aAAO,IAAII,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCvB,QAAAA,KAAK,CAACwB,IAAN,CAAW,uCAAX,EAAoDP,OAApD,EACKQ,IADL,CACU,UAAAC,QAAQ,EAAI;AACdP,UAAAA,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAAChB,IAArB;;AACA,cAAIgB,QAAQ,CAAChB,IAAT,CAAcC,QAAd,IAA0B,IAA9B,EAAoC;AAChCX,YAAAA,KAAK,CAAC2B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,qBAA2DH,QAAQ,CAAChB,IAAT,CAAcoB,KAAzE;AACAZ,YAAAA,MAAM,CAAC,UAAD,EAAaQ,QAAQ,CAAChB,IAAtB,CAAN;AACH;AACJ,SAPL,EAQKqB,KARL,CAQW,UAAAC,KAAK,EAAI;AACZb,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAG,UAAAA,MAAM,CAACS,KAAD,CAAN;AACH,SAXL;AAYH,OAbM,CAAP;AAcF,KAjBO;AAkBRC,IAAAA,MAlBQ,yBAkBQhB,OAlBR,EAkBiB;AAAA,UAAjBC,MAAiB,SAAjBA,MAAiB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACA,aAAO,IAAII,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCvB,QAAAA,KAAK,CAACwB,IAAN,CAAW,uCAAX,EAAoDP,OAApD,EACKQ,IADL,CACU,UAAAC,QAAQ,EAAI;AACdP,UAAAA,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAAChB,IAArB;;AACA,cAAGgB,QAAQ,CAAChB,IAAT,KAAkB,SAArB,EAAgC;AAC9BX,YAAAA,KAAK,CAACe,IAAN,CAAW,QAAX;AACD;AACJ,SANL,EAOKiB,KAPL,CAOW,UAAAC,KAAK,EAAI;AACZb,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAG,UAAAA,MAAM,CAACS,KAAD,CAAN;AACH,SAVL;AAWH,OAZM,CAAP;AAaA;AAjCO;AAZmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport Route from '../router/index'\nimport axios from 'axios'\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    Userinfo:{User_Id:null,User_Name:null,User_auth:[]}\n  },\n  mutations: {\n    SET_USER(state, data) {\n      state.Userinfo.User_Id = data.username\n      state.Userinfo.User_Name = data.name\n      state.Userinfo.User_auth = data.authorities\n      Route.push(\"/user\")\n   }\n  },\n  actions: {\n    loginProcess({ commit }, payload) {\n      console.log(payload)\n      return new Promise((resolve, reject) => {\n          axios.post('http://localhost:9000/api/auth/signin', payload)\n              .then(Response => {\n                  console.log(Response.data)\n                  if (Response.data.username != null) {\n                      axios.defaults.headers.common['Authorization'] = `Bearer ${Response.data.token}`\n                      commit('SET_USER', Response.data)   \n                  }\n              })\n              .catch(Error => {\n                  console.log('error')\n                  reject(Error)\n              })\n      })\n   },\n   SignUp({commit},payload) {\n    console.log(payload)\n    return new Promise((resolve, reject) => {\n        axios.post('http://localhost:9000/api/auth/signup', payload)\n            .then(Response => {\n                console.log(Response.data)\n                if(Response.data === \"success\") {\n                  Route.push(\"/login\")\n                }\n            })\n            .catch(Error => {\n                console.log('error')\n                reject(Error)\n            })\n    })\n   }\n}\n})"]},"metadata":{},"sourceType":"module"}